<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Simulador FINAK | Gesti√≥n de Aportes</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --bg-body: #f0f2f5; 
  --primary-dark: #0f172a; 
  --primary-blue: #2563eb; 
  --blue-gradient: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
  --accent-green: #10b981;
  --text-main: #334155;
  --text-light: #64748b;
  --card-bg: #ffffff;
  --shadow-soft: 0 10px 40px -10px rgba(0,0,0,0.08);
  --shadow-hover: 0 20px 50px -10px rgba(37, 99, 235, 0.15);
  --warning-orange: #f59e0b;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family: "Poppins", sans-serif;
  background-color: var(--bg-body);
  color: var(--text-main);
  padding-bottom: 60px;
  background-image: radial-gradient(#e5e7eb 1px, transparent 1px);
  background-size: 20px 20px;
}

.wrap{
  max-width: 1050px;
  margin: 40px auto;
  padding: 0 20px;
}

/* HEADER */
.header{
  text-align: center;
  margin-bottom: 50px;
}
.header h1{
  color: var(--primary-dark);
  font-weight: 700;
  font-size: 34px;
  margin-bottom: 10px;
  letter-spacing: -1px;
}
.header p{
  color: var(--text-light);
  font-size: 16px;
  max-width: 600px;
  margin: 0 auto;
  line-height: 1.6;
}

/* GRID PRINCIPAL */
.main-grid{
  display: grid;
  grid-template-columns: 1.3fr 0.9fr;
  gap: 30px;
  align-items: start;
}

/* TARJETAS */
.card{
  background: var(--card-bg);
  border-radius: 20px;
  padding: 40px;
  box-shadow: var(--shadow-soft);
  border: 1px solid rgba(255,255,255,0.8);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.card:hover{
  transform: translateY(-5px);
  box-shadow: var(--shadow-hover);
}

/* INPUTS */
label{
  display: block;
  font-size: 13px;
  font-weight: 600;
  color: var(--text-light);
  margin-bottom: 10px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.input-container {
  position: relative;
  margin-bottom: 25px;
}

.currency-symbol {
  position: absolute;
  left: 20px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--primary-blue);
  font-weight: 600;
  font-size: 18px;
  z-index: 10;
}

.input-field{
  width: 100%;
  padding: 18px 20px 18px 45px;
  border: 2px solid #e2e8f0;
  border-radius: 12px;
  font-size: 18px;
  font-family: "Poppins", sans-serif;
  font-weight: 500;
  color: var(--primary-dark);
  background: #f8fafc;
  transition: all 0.2s;
}
.input-field:focus{
  outline: none;
  border-color: var(--primary-blue);
  background: #fff;
  box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
}

/* BOT√ìN */
.btn-calc{
  width: 100%;
  padding: 20px;
  background: var(--blue-gradient);
  color: white;
  border: none;
  border-radius: 12px;
  font-size: 18px;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 10px 25px -5px rgba(37, 99, 235, 0.4);
  transition: all 0.2s;
  margin-top: 10px;
  letter-spacing: 0.5px;
}
.btn-calc:hover{
  filter: brightness(1.1);
  transform: scale(1.02);
}

/* RESUMEN LATERAL */
.summary-card {
  background: #0f172a; 
  color: white;
  padding: 35px;
}
.summary-title{
  font-size: 18px;
  font-weight: 600;
  color: #fff;
  margin-bottom: 25px;
  padding-bottom: 15px;
  border-bottom: 1px solid rgba(255,255,255,0.1);
}

.kpi-row{
  display: flex;
  justify-content: space-between;
  margin-bottom: 16px;
  font-size: 14px;
  align-items: center;
}
.kpi-label{ color: #94a3b8; }
.kpi-value{ font-weight: 600; color: #fff; background: rgba(255,255,255,0.1); padding: 4px 10px; border-radius: 6px; }

.benefit-list{
  list-style: none;
  padding: 0;
  margin-top: 30px;
}
.benefit-item{
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 14px;
  color: #cbd5e1;
  margin-bottom: 14px;
}
.check-icon{
  color: var(--accent-green);
  background: rgba(16, 185, 129, 0.1);
  width: 24px; height: 24px;
  display: flex; align-items: center; justify-content: center;
  border-radius: 50%;
  font-size: 12px;
}

/* FOOTER */
.legal-footer{
  margin-top: 80px;
  text-align: center;
  padding-top: 30px;
  border-top: 1px solid #e2e8f0;
}
.legal-text{
  font-size: 12px;
  color: #94a3b8;
  max-width: 900px;
  margin: 0 auto;
  line-height: 1.6;
}

/* MODAL */
.modal-overlay{
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(15, 23, 42, 0.75);
  backdrop-filter: blur(5px);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  opacity: 0;
  transition: opacity 0.3s;
}
.modal-overlay.active{ display: flex; opacity: 1; }

.modal-box{
  background: white;
  width: 90%; max-width: 480px;
  border-radius: 24px;
  padding: 0;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  transform: scale(0.9);
  transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
.modal-overlay.active .modal-box{ transform: scale(1); }

.modal-header{
  background: var(--primary-dark);
  color: white;
  padding: 25px;
  border-radius: 24px 24px 0 0;
  display: flex; justify-content: space-between; align-items: center;
}
.modal-body{ padding: 30px; }

.result-row{
  display: flex; justify-content: space-between; margin-bottom: 15px; padding-bottom: 15px;
  border-bottom: 1px solid #f1f5f9; font-size: 15px; color: var(--text-main);
}
.res-val{ font-weight: 600; }
.res-val.highlight{ color: var(--accent-green); font-size: 19px; font-weight: 700; }
.res-val.fee{ color: #ef4444; }

/* Caja de Capital Neto */
.net-capital-box {
    background: #f8fafc;
    border: 1px solid #e2e8f0;
    padding: 12px 15px;
    border-radius: 10px;
    margin-bottom: 20px;
    font-size: 13px;
    color: var(--text-light);
}
.net-capital-row {
    display: flex; justify-content: space-between; align-items: center;
}

.total-box{
  background: #eff6ff;
  border: 1px dashed #bfdbfe;
  padding: 20px;
  border-radius: 12px;
  text-align: center;
  margin-top: 25px;
}
.total-amount{ font-size: 32px; font-weight: 800; color: var(--primary-blue); margin-top: 5px; }

.modal-footer{
  padding: 25px;
  background: #f8fafc;
  border-radius: 0 0 24px 24px;
  display: flex; gap: 15px; justify-content: space-between;
}
.btn-close{ background: transparent; border: 1px solid #cbd5e1; color: var(--text-light); padding: 12px 20px; border-radius: 10px; font-weight: 600; cursor: pointer; }
.btn-whatsapp{ background: #25D366; color: white; border: none; padding: 12px 20px; border-radius: 10px; font-weight: 600; cursor: pointer; box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3); flex-grow: 1; }

@media(max-width: 850px){
  .main-grid{ grid-template-columns: 1fr; }
  .summary-card{ order: 2; }
  .header h1 { font-size: 28px; }
}
</style>
</head>
<body>

<div class="wrap">
  
  <div class="header">
    <h1>Gesti√≥n de Aportes</h1>
    <p>Simula el potencial de excedente. Administramos tu aporte bajo mandato de Comisi√≥n Mercantil con estrategias de Renta Variable.</p>
  </div>

  <div class="main-grid">
    
    <div class="card">
      <div class="input-container">
        <label for="monto">Aporte a simular ($ USD)</label>
        <div class="currency-symbol">$</div>
        <input type="number" id="monto" class="input-field" placeholder="M√≠nimo 30 - M√°ximo 500" value="50">
      </div>

      <div class="input-container">
        <label for="plazo">Ciclo de Gesti√≥n</label>
        <select id="plazo" class="input-field">
          <option value="15">15 D√≠as (Ciclo corto)</option>
          <option value="30" selected>30 D√≠as (Ciclo Recomendado)</option>
        </select>
      </div>

      <button id="btnSimular" class="btn-calc">Simular Excedente Potencial</button>

      <div style="margin-top: 20px; text-align: center; font-size: 12px; color: #94a3b8;">
        <span style="display: block; margin-bottom: 5px;">üîí Transparencia Total</span>
        *Prueba entre diferentes aportes y ciclos.
        *Recuerda tomar una captura de pantalla a tu proyecci√≥n t√©cnica.
      </div>
    </div>

    <div class="card summary-card">
      <div class="summary-title">Resumen de gesti√≥n</div>
      
      <div class="kpi-row">
        <span class="kpi-label">Modelo</span>
        <span class="kpi-value">Comisi√≥n Mercantil</span>
      </div>
      <div class="kpi-row">
        <span class="kpi-label">Comisi√≥n √âxito</span>
        <span class="kpi-value">20% s/ Ganancia</span>
      </div>
      <div class="kpi-row">
        <span class="kpi-label">Protecci√≥n</span>
        <span class="kpi-value">Stop Loss Activo</span>
      </div>

      <ul class="benefit-list">
        <li class="benefit-item"><span class="check-icon">‚úî</span> Contrato Privado Legal</li>
        <li class="benefit-item"><span class="check-icon">‚úî</span> Soporte Personalizado</li>
        <li class="benefit-item"><span class="check-icon">‚úî</span> Estrategia Transparente</li>
        <li class="benefit-item"><span class="check-icon">‚úî</span> Retorno L√≠quido</li>
      </ul>
    </div>

  </div>

  <div class="legal-footer">
    <p class="legal-text">
      <strong>AVISO LEGAL Y REGULATORIO:</strong> FINAK opera bajo la figura de Mandato de Comisi√≥n Mercantil. No somos una entidad bancaria. El Capital Neto Operativo es el monto resultante tras descontar el ISD (Impuesto a la Salida de Divisas) estatal. Las proyecciones son objetivos t√©cnicos, no garant√≠as de pago.
    </p>
  </div>

</div>

<div class="modal-overlay" id="modalResult">
  <div class="modal-box">
    <div class="modal-header">
      <span style="font-weight: 600; font-size: 18px;">Proyecci√≥n T√©cnica</span>
      <span style="cursor: pointer; font-size: 24px;" id="btnCloseX">√ó</span>
    </div>
    
    <div class="modal-body">
      
      <div class="net-capital-box">
        <div class="net-capital-row" style="margin-bottom:5px">
            <span>Aporte Enviado:</span>
            <span style="font-weight:600" id="resMontoEnviado">$0.00</span>
        </div>
        <div class="net-capital-row" style="color:#f59e0b; font-size:12px;">
            <span>- ISD y Log√≠stica (5%):</span>
            <span id="resISD">-$0.00</span>
        </div>
        <div style="border-bottom:1px solid #e2e8f0; margin: 8px 0;"></div>
        <div class="net-capital-row" style="color:var(--primary-dark)">
            <strong>Aporte Real Operativo:</strong>
            <strong id="resAporteNeto">$0.00</strong>
        </div>
      </div>

      <div class="result-row">
        <span style="color: #64748b;">Obj. T√©cnico (%):</span>
        <span class="res-val" id="resRate" style="color: var(--primary-blue)">0%</span>
      </div>

      <div class="result-row">
        <span style="color: #64748b;">Excedente Bruto:</span>
        <span class="res-val" id="resGross">$0.00</span>
      </div>

      <div class="result-row">
        <span style="color: #64748b;">Comisi√≥n Gestor (20%):</span>
        <span class="res-val fee" id="resFee">-$0.00</span>
      </div>

      <div class="result-row" style="border-bottom:none; margin-top:15px; padding-bottom:0;">
        <span style="font-weight: 700;">TU EXCEDENTE NETO:</span>
        <span class="res-val highlight" id="resNet">$0.00</span>
      </div>

      <div class="total-box">
        <div style="font-size: 12px; color: #3b82f6; text-transform: uppercase; font-weight: 700; letter-spacing: 1px;">Total Estimado a Recibir</div>
        <div class="total-amount" id="resTotal">$0.00</div>
      </div>
    </div>

    <div class="modal-footer">
      <button class="btn-close" id="btnCloseBtn">Cerrar</button>
      <button class="btn-whatsapp" id="btnWhatsapp">Solicitar Gesti√≥n</button>
    </div>
  </div>
</div>

<script>
// Variables globales
let calcData = {};

document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('btnSimular').addEventListener('click', calculate);
    document.getElementById('btnCloseX').addEventListener('click', closeModal);
    document.getElementById('btnCloseBtn').addEventListener('click', closeModal);
    document.getElementById('btnWhatsapp').addEventListener('click', contactWhatsApp);
    
    document.getElementById('modalResult').addEventListener('click', function(e) {
        if (e.target === this) closeModal();
    });
});

function calculate() {
  const montoInput = document.getElementById('monto');
  const plazoInput = document.getElementById('plazo');
  
  let montoEnviado = parseFloat(montoInput.value);
  let plazo = parseInt(plazoInput.value);

  // VALIDACI√ìN: 30 a 500 USD
  if (isNaN(montoEnviado) || montoEnviado < 30 || montoEnviado > 500) {
    alert("Por favor, ingresa un aporte entre $30 y $500 USD.");
    return;
  }

  // --- 1. DEDUCCI√ìN DEL ISD (5%) ---
  let isd = montoEnviado * 0.05;
  let aporteOperativo = montoEnviado - isd;

  // --- 2. C√ÅLCULO DE RENDIMIENTO (INCENTIVANDO EL LARGO PLAZO) ---
  let rate = 0;
  let factorMonto = (montoEnviado - 30) / (500 - 30); // 0 a 1

  if (plazo === 15) {
    // 15 D√≠as: Bajamos el rango (10% a 18%) para que no sea tan atractivo
    const minRate = 10;
    const maxRate = 18;
    rate = minRate + (maxRate - minRate) * factorMonto;
  } else {
    // 30 D√≠as: Subimos el rango (35% a 50%) para premiar la paciencia
    const minRate = 35;
    const maxRate = 50;
    rate = minRate + (maxRate - minRate) * factorMonto;
  }
  rate = Math.round(rate * 100) / 100;

  // C√°lculos Financieros
  let grossGain = aporteOperativo * (rate / 100);
  let fee = grossGain * 0.20; // 20% Comisi√≥n
  let netGain = grossGain - fee;
  
  // Total = Capital Operativo + Ganancia Neta
  let total = aporteOperativo + netGain;

  // Guardar datos
  calcData = { 
    montoEnviado, isd, aporteOperativo, plazo, rate, gross: grossGain, fee, net: netGain, total 
  };

  // Renderizar en Modal
  document.getElementById('resMontoEnviado').innerText = formatUSD(montoEnviado);
  document.getElementById('resISD').innerText = "-" + formatUSD(isd);
  document.getElementById('resAporteNeto').innerText = formatUSD(aporteOperativo);

  document.getElementById('resRate').innerText = rate.toFixed(2) + "%";
  document.getElementById('resGross').innerText = formatUSD(grossGain);
  document.getElementById('resFee').innerText = "-" + formatUSD(fee);
  document.getElementById('resNet').innerText = formatUSD(netGain);
  document.getElementById('resTotal').innerText = formatUSD(total);

  document.getElementById('modalResult').classList.add('active');
}

function closeModal() {
  document.getElementById('modalResult').classList.remove('active');
}

function contactWhatsApp() {
  // Mensaje optimizado con s√≠mbolos seguros (sin emojis complejos que se rompen)
  // Texto m√°s suave y abierto
  const text = `Hola FINAK, he realizado una simulaci√≥n y me interesa la gesti√≥n.
  
[ DETALLES DE PROYECCI√ìN ]
> Aporte Enviado: $${calcData.montoEnviado.toFixed(2)}
> Aporte Operativo (Neto): $${calcData.aporteOperativo.toFixed(2)}

> Ciclo: ${calcData.plazo} Dias
> Objetivo T√©cnico: ${calcData.rate}%

[ RESULTADOS ESTIMADOS ]
> Excedente Neto Cliente: $${calcData.net.toFixed(2)}
> Total Estimado a Recibir: $${calcData.total.toFixed(2)}

Quisiera saber cu√°les son los pasos para empezar. Quedo a la espera de su respuesta.`;
  
  const phoneNumber = "593998668415"; 
  const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(text)}`;
  window.open(url, '_blank');
}

function formatUSD(num) {
  return "$" + num.toFixed(2);
}
</script>

</body>

</html>






